<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script>
        var weChat = {
            getQueryString: function (name) {
                var url = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
                var newUrl = window.location.search.substr(1).match(url);
                if (newUrl != null) {
                    return unescape(newUrl[2]);
                } else {
                    return false;
                }
            },
            redirectUrl: function () {
                return weChatConf.baseUrl + "appid=" + weChatConf.appId + "&redirect_uri=" +
                    encodeURIComponent(weChatConf.redirect_uri) + "&response_type=" +
                    weChatConf.response_type + "&scope=" + weChatConf.scope + "&state=" +
                    weChatConf.state + weChatConf.weChat_Redirect
            },
            getOpenId: function (code) {

            },
            getStorage: function (name) {
                return localStorage.getItem(name)
            },
            setStorage: function (name, value) {
                return localStorage.setItem(name, value)
            }
        }
        var weChatConf = {
            baseUrl: "https://open.weixin.qq.com/connect/oauth2/authorize?",
            appId: 'wx5f789dea59c6c2c5',
            redirect_uri: 'https://a.weixin.hndt.com/h5/partysday/index.html?cid=' + weChat.getQueryString('cid'),
            response_type: 'code',
            scope: 'snsapi_userinfo', //snsapi_base 只获取openId ， snsapi_userinfo 获取用户信息
            state: Date.parse(new Date()),
            weChat_Redirect: '#wechat_redirect'
        }
        if (!weChat.getQueryString('code')) {
            // window.location = weChat.redirectUrl()
        }
    </script>
    <script src="//g.alicdn.com/fdilab/lib3rd/viewport-units-buggyfill/0.6.2/??viewport-units-buggyfill.hacks.min.js,viewport-units-buggyfill.min.js"></script>
    <script>
        window.onload = function () {
            window.viewportUnitsBuggyfill.init({
                hacks: window.viewportUnitsBuggyfillHacks
            });
        }
    </script>
    <link rel="stylesheet" href="./css/app.css">
    <link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/1.1.2/weui.min.css">
    <title>都市KTV</title>
</head>

<body>
    <div class="g-hd">
        <h1 class="m-title">都市KTV</h1>
        <span class="icon-rule" id="icon-rule"></span>
    </div>
    <div class="g-bd">
        <div class="m-info">
            <div class="m-user">
                <div class="u-avatar">
                    <div class="outer-line">
                        <img src="http://www.hndt.com/podcast/976/1131/res/EEghUGNE.jpg?1511506999379" alt="" class="avatar">
                    </div>
                </div>
                <p class="u-name">房主：
                    <span>姓名</span>
                </p>
                <span class="u-btn"></span>
            </div>
            <div class="m-user">
                <div class="u-avatar">
                    <div class="outer-line">
                        <img src="http://www.hndt.com/podcast/976/1131/res/EEghUGNE.jpg?1511506999379" alt="" class="avatar">
                    </div>
                </div>
                <p class="u-name">挑战者：
                    <span>姓名</span>
                </p>
                <span class="u-btn"></span>
            </div>
        </div>
        <div class="m-progress">
            <div class="m-percent">
                <div class="u-owner-percent">0%</div>
                <div class="u-challenge-percent">0%</div>
            </div>
            <div class="m-progress-wrap">
                <div class="u-owner"></div>
                <div class="u-challenge"></div>
                <div class="icon-percent"></div>
            </div>
        </div>
        <div class="m-refresh">
            <span class="u-tips">下一位挑战者是谁？</span>
            <button class="u-btn" id="refresh-btn">刷新！</button>
        </div>
    </div>
    <div class="g-line"></div>
    <div class="g-ft">
        <div class="m-barrage">
            <canvas class="barrage"></canvas>
        </div>
        <div class="m-send">
            <input type="text" class="u-ipt" placeholder="请输入评论内容">
            <button class="u-btn">发送</button>
        </div>
    </div>
    <div class="g-copyright">
        河南广播云提供技术支持
    </div>
    <script src="./js/app.js"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?8d8b13e4dff379c880b2436c9ae60cc8";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</body>

</html>